<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">


<h:head>IGNORED</h:head>
<h:body>
	<ui:composition template="../../templates/admin2_layout.xhtml">
		<ui:define name="content">
			<h:form id="editCommForm">
			<div class="row">
			<div class="col-md-offset-1 col-md-4">
				<div class="row">		
					<div class=" col-md-12">
				  		
						<p:growl id="messages" showSummary="true" showDetail="true"/>
						<h:inputHidden id="id" value="#{editCommunityBBean.id}"/>
						<div class="form-group">
							<label for="name">#{msgs['editcommunity.name']}</label>
							<h:inputText class="form-control" id="name" value="#{editCommunityBBean.name}"  maxlength="32" required="true">
								<f:validator binding="#{duplicatedCommunityValidator}" />
							</h:inputText>
						</div>
					</div>					
				 </div>
				 <div class="row">
				 	<div class="col-md-12">
				 		<p>#{msgs['editcommunity.subscription']}:
						#{editCommunityBBean.joiningDate}</p>
						
				</div>
				 </div>
				 <div class="row">
					<div class="col-md-12">	
						<div class="form-group">
							<div class="checkbox">
								<h:selectBooleanCheckbox id="enabled" value="#{editCommunityBBean.available}" />
    							<label for="enabled">#{msgs['editcommunity.available']}</label>
    						</div>
					 	</div>
				 	</div>
				 </div>
				 <div class="row">
					<div class="form-group col-md-6">
						<label for="zipcode"> 
							#{msgs['editcommunity.zipcode']}</label>:  
						<h:inputText class="form-control" id="zipcode" value="#{editCommunityBBean.zipcode}"
							size="6"
							maxlength="5"
							required="true" />			
					</div>
					<div class="form-group col-md-6">
						<label for="country"> 
							#{msgs['editcommunity.country']}</label>:  
						<h:selectOneMenu id="country" class="form-control" 
							value="#{editCommunityBBean.country}" required="true">
							<f:selectItems value="#{countriesSBean.countries}" /> 
						</h:selectOneMenu>
					</div>	
						
					
				 </div>
				 <div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="notes">#{msgs['editcommunity.notes']} </label>
							<p:inputTextarea class="form-control" id="notes" value="#{editCommunityBBean.mydata}"
								rows="5" cols="58" maxlength="256" counter="display"
								counterTemplate="#{msgs['editaccount.remaining_chars']}" />
							<p:outputLabel id="display" />
				 	 	</div>
				 	 </div>
				</div>
				</div>
				<div class="col-md-offset-1 col-md-5"> 
				<div class="row">
					<div class="form-group col-md-12">
						<label for="resourcesTable">#{msgs['editcommunity.resources']}</label>
						<h:dataTable class="table table-condensed table-hover" id="resourcesTable" value="#{editCommunityBBean.myResources}" 	var="rsrc"
							
						 	rows="8">
                       
                         	
							<h:column headerText="#{msgs['editcommunity.resources']}">
								<p:commandButton style="height:15px;width:20px;" 
									action="#{editCommunityCBean.editResource(rsrc)}" 
									ajax="false"
									icon="ui-icon-pencil" 
									title="#{msgs['editresource.title']}">
            					</p:commandButton>
								#{rsrc.name}
							</h:column>
							<h:column headerText="#{msgs['editcommunity.resource_type']}">   
								#{rsrc.type}
							</h:column>
							
        					<h:column id="status" styleClass="rscrColumn4">
        						<h:outputText styleClass="ui-icon ui-icon-newwin" title="#{msgs['editcommunity.new']}" rendered="#{rsrc.added}"/>
        						<h:outputText styleClass="ui-icon ui-icon-circle-check" title="#{msgs['editcommunity.updated']}" rendered="#{rsrc.updated}"/>
							</h:column>
						</h:dataTable>
					</div>
					
				</div>
				</div>
				</div>
				
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>