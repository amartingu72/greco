<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
 <head>
   	<title>IGNORED</title>
</head>

<body> 
<ui:composition template="/templates/login_layout.xhtml">
	<ui:define name="content">
		<h:form>
			<p:wizard  flowListener="#{newAccountCBean.onFlowProcess}" nextLabel="#{msgs['newaccount.next']}" backLabel="#{msgs['newaccount.back']}">
			<p:tab id="email" title="#{msgs['newaccount.email']}" titleStyleClass="subs_tabs">
				<p:panel>
					<p:messages />
					<p:commandButton rendered="#{newAccountBBean.showLoginBtn}" value="#{msgs['newaccount.login']}" action="#{newAccountCBean.navigateLogin}"/>
					<h:panelGrid columns="2" columnClasses="label, value">
						<h:outputText value="#{msgs['newaccount.email']}*:" />
						<p:inputText value="#{newAccountBBean.email}" required="true"
							label="#{msgs['editaccount.email_label']}"
							requiredMessage="#{msgs['editaccount.required_msg']}" 
							size="64">
							<f:validator validatorId="com.greco.validators.EmailValidator" />
						</p:inputText>
              			</h:panelGrid>
            			#{msgs['newaccount.email_note']}
				</p:panel>
			</p:tab>
			<p:tab id="info" title="#{msgs['newaccount.user_info_tab']}" >
				<p:panel>
					<h:panelGrid columns="3" columnClasses="label, value">	
						<h:outputText for="nickname" value="#{msgs['newaccount.nickname']}*" />
						<p:inputText id="nickname" value="#{newAccountBBean.nickname}" validator="#{newAccountCBean.validateName}"/>							
						<p:message for="nickname" id="nickError" />
						
						<h:outputLabel for="pwd" value="#{msgs['newaccount.pwd']}*" />
						<p:password id="pwd" value="#{newAccountBBean.password}"
							match="passwordConfirm" maxlength="16" required="true" redisplay="true"	
							label="#{msgs['newaccount.pwd']}"
							requiredMessage="#{msgs['newaccount.pwd_required_msg']}"
							validatorMessage="#{msgs['newaccount.pwd_validator_msg']}"/>
						<p:message for="pwd" id="pwdError" />
						<h:outputLabel for="passwordConfirm" value="#{msgs['newaccount.pwd_confirm']}*" />
						<p:password id="passwordConfirm" value="#{newAccountBBean.password}" redisplay="true"/>
						<p:message for="passwordConfirm" id="passwordConfirmError" />						
					</h:panelGrid>
					<h:panelGrid columns="1" columnClasses="label, value">
						<h:outputText for="myData" value="#{msgs['newaccount.mydata']}" />
						<p:inputTextarea id="myData" value="#{newAccountBBean.mydata}" rows="5" cols="58" maxlength="256" 
						counter="display"
							counterTemplate="#{msgs['editaccount.remaining_chars']}"/>
						<p:outputLabel id="display" />
					</h:panelGrid>
				</p:panel>
			</p:tab >
				<p:tab id="confirm" title="#{msgs['newaccount.confirmation_tab']}" titleStyleClass="subs_tabs">
				<p:panel>
					<h:panelGrid columns="2" columnClasses="label, value">
						<h:outputText value="#{msgs['newaccount.email']}:" />
						<h:outputText value="#{newAccountBBean.email}"/>
						<h:outputText value="#{msgs['newaccount.nickname']}" />
						<h:outputText value="#{newAccountBBean.nickname}"  /> 
					</h:panelGrid>
					<p:fieldset legend="#{msgs['newaccount.mydata']}" style="margin-bottom:20px">
        					<h:panelGrid columns="2" cellpadding="5">
           						 <p:graphicImage value="../../resources/img/generic-user.png" width="50px" height="50px"/>
           						 <p:outputLabel value="#{newAccountBBean.mydata}"/>
           					</h:panelGrid>
					</p:fieldset>
					<p:commandButton value="#{msgs['newaccount.save_btn']}"
						icon="ui-icon-disk"
						action="#{newAccountCBean.submit}"	/>							
				</p:panel>
			</p:tab>
			</p:wizard>
		</h:form>
	</ui:define>
</ui:composition>
</body>
</html>