<?xml version="1.0" encoding="UTF-8"?>

<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0">
	<application>
		<el-resolver>
    		org.springframework.web.jsf.el.SpringBeanFacesELResolver
    	</el-resolver>

		<resource-bundle>
			<base-name>com.greco.messages</base-name>
			<var>msgs</var>
		</resource-bundle>
		<!-- Para poder abrir dialogos PrimeFaces -->
        <action-listener>org.primefaces.application.DialogActionListener</action-listener>
        <navigation-handler>org.primefaces.application.DialogNavigationHandler</navigation-handler>
        <view-handler>org.primefaces.application.DialogViewHandler</view-handler>
    	<!-- Fin Para poder abrir dialogos PrimeFaces -->
	</application>
	<managed-bean>
		<managed-bean-name>loginBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.LoginBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>communityDataProvider</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>tabs</managed-bean-name>
		<managed-bean-class>com.greco.beans.TabsSBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>newAccountBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewAccountBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>editResourceBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditResourceBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>reservationsBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.ReservationsBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>communityDataProvider</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationDataProvider</property-name>
			<property-class>com.greco.services.ReservationDataProvider</property-class>
			<value>#{reservationDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>resourceTypeDataProvider</property-name>
			<property-class>com.greco.services.ResourceTypeDataProvider</property-class>
			<value>#{resourceTypeDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Ejemplo de uso de Calendar (primefaces)</description>
		<managed-bean-name>calendarManagedBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.CalendarBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	
	<managed-bean>
		<managed-bean-name>userLogged</managed-bean-name>
		<managed-bean-class>com.greco.beans.UserSBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Controller bean.</description>
		<managed-bean-name>loginCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.LoginCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>authenticationManager</property-name>
			<property-class>org.springframework.security.authentication.AuthenticationManager</property-class>
			<value>#{authenticationManager}</value>
		</managed-property>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>loginBBean</property-name>
			<property-class>com.greco.beans.LoginBBean</property-class>
			<value>#{loginBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>communitiesListCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.CommunitiesListCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>communitiesListBBean</property-name>
			<property-class>com.greco.beans.CommunitiesListBBean</property-class>
			<value>#{communitiesListBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>MBean de soporte. Mantiene en memoria, la lista de países.</description>
		<managed-bean-name>countriesSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.CountriesSBean</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>countryDataProvider</property-name>
			<property-class>com.greco.services.CountryDataProvider</property-class>
			<value>#{countryDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>BackingBean para edición de comunidades.</description>
		<managed-bean-name>editCommunityBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditCommunityBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>myResources</property-name>
			<property-class>java.util.List</property-class>
			<value>#{resourcesSBean.myResources}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controllador de la edición de comunidades.</description>
		<managed-bean-name>editCommunityCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditCommunityCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>editCommunityBBean</property-name>
			<property-class>com.greco.beans.EditCommunityBBean</property-class>
			<value>#{editCommunityBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>communityDataProvider</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte.</description>
		<managed-bean-name>communitiesSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.CommunitiesSBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>userBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
		<managed-property>
			<property-name>userCommunityDataProvider</property-name>
			<property-class>com.greco.services.UserCommunityDataProvider</property-class>
			<value>#{userCommunityDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean</description>
		<managed-bean-name>communitiesListBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.CommunitiesListBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>myCommunities</property-name>
			<property-class>java.util.List</property-class>
			<value>#{communitiesSBean.myCommunities}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para gestionar la lista de recursos asociados a una comunidad.</description>
		<managed-bean-name>resourcesSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.ResourcesSBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>resourceDataProvider</property-name>
			<property-class>com.greco.services.ResourceDataProvider</property-class>
			<value>#{resourceDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para los tipos de recurso.</description>
		<managed-bean-name>resourceTypesSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.ResourceTypesSBean</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>resourceTypeDataProvider</property-name>
			<property-class>com.greco.services.ResourceTypeDataProvider</property-class>
			<value>#{resourceTypeDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para unidades de tiempo.</description>
		<managed-bean-name>timeUnitsSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.TimeUnitsSBean</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>timeUnitsDataProvider</property-name>
			<property-class>com.greco.services.TimeUnitDataProvider</property-class>
			<value>#{timeUnitDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de control para la edición de recursos.</description>
		<managed-bean-name>editResourceCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditResourceCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>editResourceBBean</property-name>
			<property-class>com.greco.beans.EditResourceBBean</property-class>
			<value>#{editResourceBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para nuevo recurso.</description>
		<managed-bean-name>newResourceBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewResourceBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para nuevo recurso.</description>
		<managed-bean-name>newResourceCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewResourceCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>newResourceBBean</property-name>
			<property-class>com.greco.beans.NewResourceBBean</property-class>
			<value>#{newResourceBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para la edición de cuenta.</description>
		<managed-bean-name>editAccountBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditAccountBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>userBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
		<managed-property>
			<property-name>userCommunityDataProvider</property-name>
			<property-class>com.greco.services.UserCommunityDataProvider</property-class>
			<value>#{userCommunityDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la edición de cuenta.</description>
		<managed-bean-name>editAccountCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditAccountCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
		<managed-property>
			<property-name>editAccountBBean</property-name>
			<property-class>com.greco.beans.EditAccountBBean</property-class>
			<value>#{editAccountBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Validador de recurso único. Lo incorporamos como managed bean porque no podemos inyectar objetos Spring en los validadores.</description>
		<managed-bean-name>duplicatedResourceValidator</managed-bean-name>
		<managed-bean-class>com.greco.validators.DuplicatedResourceValidator</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para la creación de una nueva comunidad.</description>
		<managed-bean-name>newCommunityBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewCommunityBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la creación de una nueva comunidad.</description>
		<managed-bean-name>newCommunityCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewCommunityCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>communityDataProvider</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>resourcesSBean</property-name>
			<property-class>com.greco.beans.ResourcesSBean</property-class>
			<value>#{resourcesSBean}</value>
		</managed-property>
		<managed-property>
			<property-name>newCommunityBBean</property-name>
			<property-class>com.greco.beans.NewCommunityBBean</property-class>
			<value>#{newCommunityBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Validador de comunidad duplicado.</description>
		<managed-bean-name>duplicatedCommunityValidator</managed-bean-name>
		<managed-bean-class>com.greco.validators.DuplicatedCommunityValidator</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Gestiona el menú de administrador.</description>
		<managed-bean-name>menuViewBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.admin.MenuViewBBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para soportar el menú.</description>
		<managed-bean-name>menuBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.MenuBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>communitiesSBean</property-name>
			<property-class>com.greco.beans.CommunitiesSBean</property-class>
			<value>#{communitiesSBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la gestión del menú.</description>
		<managed-bean-name>menuCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.MenuCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>menuBBean</property-name>
			<property-class>com.greco.beans.MenuBBean</property-class>
			<value>#{menuBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para carga de los perfiles disponibles.</description>
		<managed-bean-name>profilesSBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.ProfilesSBean</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>profileDataProvider</property-name>
			<property-class>com.greco.services.ProfileDataProvider</property-class>
			<value>#{profileDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la tabla de miembros de una comunidad.</description>
		<managed-bean-name>editMembershipCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditMembershipCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>editMembershipBBean</property-name>
			<property-class>com.greco.beans.EditMembershipBBean</property-class>
			<value>#{editMembershipBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para crear una nueva cuenta.</description>
		<managed-bean-name>newAccountCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NewAccountCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>newAccountBBean</property-name>
			<property-class>com.greco.beans.NewAccountBBean</property-class>
			<value>#{newAccountBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>authenticationManager</property-name>
			<property-class>org.springframework.security.authentication.AuthenticationManager</property-class>
			<value>#{authenticationManager}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para página de subscripción a una comunidad.</description>
		<managed-bean-name>subscribeMeBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.SubscribeMeBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la página de subscripción a una comunidad.</description>
		<managed-bean-name>subscribeMeCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.SubscribeMeCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>subscribeMeBBean</property-name>
			<property-class>com.greco.beans.SubscribeMeBBean</property-class>
			<value>#{subscribeMeBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userDataPRovider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>communityDataProviser</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para confirmación de suscripción enviada.</description>
		<managed-bean-name>subscriptionCompletedBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.SubscriptionCompletedBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador de suscripción completada.</description>
		<managed-bean-name>subscriptionCompletedCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.SubscriptionCompletedCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>subscriptionCompletedBBean</property-name>
			<property-class>com.greco.beans.SubscriptionCompletedBBean</property-class>
			<value>#{subscriptionCompletedBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean de soporte para funcionalidad de recuperación de pwd.</description>
		<managed-bean-name>pwdForgottenBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.PwdForgottenBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la funcionalidad de recordar pwd.</description>
		<managed-bean-name>pwdForgottenCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.PwdForgottenCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>pwdForgottenBBean</property-name>
			<property-class>com.greco.beans.PwdForgottenBBean</property-class>
			<value>#{pwdForgottenBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>mailProvider</property-name>
			<property-class>com.greco.services.MailProvider</property-class>
			<value>#{mailProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la cabecera.</description>
		<managed-bean-name>headerCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.HeaderCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>userLogged</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para cuando se detecta un usuario dado de alta en Greco pero que no es miembro de la comunidad sobre la que ha hecho login.</description>
		<managed-bean-name>noMemberBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NoMemberBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador de la página nomember.xhtml</description>
		<managed-bean-name>noMemberCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.NoMemberCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>noMemberBBean</property-name>
			<property-class>com.greco.beans.NoMemberBBean</property-class>
			<value>#{noMemberBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userDataProvider</property-name>
			<property-class>com.greco.services.UserDataProvider</property-class>
			<value>#{userDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para la tabla de reservas.</description>
		<managed-bean-name>timeTableBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.TimeTableBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>resourceDataProvider</property-name>
			<property-class>com.greco.services.ResourceDataProvider</property-class>
			<value>#{resourceDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationsBBean</property-name>
			<property-class>com.greco.beans.ReservationsBBean</property-class>
			<value>#{reservationsBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la tabla de reservas.</description>
		<managed-bean-name>timeTableCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.TimeTableCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>timeTableBBean</property-name>
			<property-class>com.greco.beans.TimeTableBBean</property-class>
			<value>#{timeTableBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationDataProvider</property-name>
			<property-class>com.greco.services.ReservationDataProvider</property-class>
			<value>#{reservationDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationsBBean</property-name>
			<property-class>com.greco.beans.ReservationsBBean</property-class>
			<value>#{reservationsBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean de la vista correspondiente al home de los sites.</description>
		<managed-bean-name>myReservationsBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.MyReservationsBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>communityDataProvider</property-name>
			<property-class>com.greco.services.CommunityDataProvider</property-class>
			<value>#{communityDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>userSBean</property-name>
			<property-class>com.greco.beans.UserSBean</property-class>
			<value>#{userLogged}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationDataProvider</property-name>
			<property-class>com.greco.services.ReservationDataProvider</property-class>
			<value>#{reservationDataProvider}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean controlador para la página de inicio de sites de comunidad.</description>
		<managed-bean-name>myReservationsCBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.MyReservationsCBean</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
		<managed-property>
			<property-name>myReservationsBBean</property-name>
			<property-class>com.greco.beans.MyReservationsBBean</property-class>
			<value>#{myReservationsBBean}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationDataProvider</property-name>
			<property-class>com.greco.services.ReservationDataProvider</property-class>
			<value>#{reservationDataProvider}</value>
		</managed-property>
		<managed-property>
			<property-name>reservationsBBean</property-name>
			<property-class>com.greco.beans.ReservationsBBean</property-class>
			<value>#{reservationsBBean}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing bean para la página de administración de miembros de una comunidad.</description>
		<managed-bean-name>editMembershipBBean</managed-bean-name>
		<managed-bean-class>com.greco.beans.EditMembershipBBean</managed-bean-class>
		<managed-bean-scope>view</managed-bean-scope>
		<managed-property>
			<property-name>userCommunityDataProvider</property-name>
			<property-class>com.greco.services.UserCommunityDataProvider</property-class>
			<value>#{userCommunityDataProvider}</value>
		</managed-property>
	</managed-bean>
	<navigation-rule>
		<display-name>index.xhtml</display-name>
		<from-view-id>/sections/login/login.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>register</from-outcome>
			<to-view-id>/sections/admin/newaccount.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>/sections/admin/newaccount.xhtml</display-name>
		<from-view-id>/sections/admin/newaccount.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>cancel</from-outcome>
			<to-view-id>/sections/login/login.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>/sections/admin/newaccount.xhtml</display-name>
		<from-view-id>/sections/admin/newaccount.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/sections/admin/welcome.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index.xhtml</display-name>
		<from-view-id>/sections/login/login.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>pwd_forgotten</from-outcome>
			<to-view-id>/sections/login/pwdforgotten.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/login/pwdforgotten.xhtml</display-name>
		<from-view-id>/sections/login/pwdforgotten.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>sent</from-outcome>
			<to-view-id>/sections/login/pwdsent.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/reservations.xhtml</display-name>
		<from-view-id>/sites/reservations.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>editAccount</from-outcome>
			<to-view-id>/sections/editaccount.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/login/nomember.xhtml</display-name>
		<from-view-id>/sections/login/nomember.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>completed</from-outcome>
			<to-view-id>/sections/subscriptioncomplete.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/selectcom.xhtml</display-name>
		<from-view-id>/sections/admin/selectcom.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>edit</from-outcome>
			<to-view-id>/sections/admin/editcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/editcommunity.xhtml</display-name>
		<from-view-id>/sections/admin/editcommunity.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>editResource</from-outcome>
			<to-view-id>/sections/admin/editresource.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/editresource.xhtml</display-name>
		<from-view-id>/sections/admin/editresource.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>back</from-outcome>
			<to-view-id>/sections/admin/editcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index.xhtml</display-name>
		<from-view-id>/sections/login/login.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>select</from-outcome>
			<to-view-id>/sections/admin/selectcom.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index.xhtml</display-name>
		<from-view-id>/sections/login/login.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>edit</from-outcome>
			<to-view-id>/sections/admin/editcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/welcome.xhtml</display-name>
		<from-view-id>/sections/admin/welcome.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>new</from-outcome>
			<to-view-id>/sections/admin/newcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/selectcom.xhtml</display-name>
		<from-view-id>/sections/admin/selectcom.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>new</from-outcome>
			<to-view-id>/sections/admin/newcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/newcommunity.xhtml</display-name>
		<from-view-id>/sections/admin/newcommunity.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>next</from-outcome>
			<to-view-id>/sections/admin/newcommunity_step2.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/newcommunity_step2.xhtml</display-name>
		<from-view-id>/sections/admin/newcommunity_step2.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>done</from-outcome>
			<to-view-id>/sections/admin/editcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/editcommunity.xhtml</display-name>
		<from-view-id>/sections/admin/editcommunity.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>add</from-outcome>
			<to-view-id>/sections/admin/newresource.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sections/admin/newresource.xhtml</display-name>
		<from-view-id>/sections/admin/newresource.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>back</from-outcome>
			<to-view-id>/sections/admin/editcommunity.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/welcome.xhtml</display-name>
		<from-view-id>/sites/welcome.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>notfound</from-outcome>
			<to-view-id>/sites/comnotfound.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/welcome.xhtml</display-name>
		<from-view-id>/sites/welcome.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>login</from-outcome>
			<to-view-id>/sites/myreservations.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/reservations.xhtml</display-name>
		<from-view-id>/sites/reservations.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>confirm</from-outcome>
			<to-view-id>/sites/myreservations.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/welcome.xhtml</display-name>
		<from-view-id>/sites/welcome.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>subscribeme</from-outcome>
			<to-view-id>/sites/subscribeme.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/welcome.xhtml</display-name>
		<from-view-id>/sites/welcome.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>nomember</from-outcome>
			<to-view-id>/sections/login/nomember.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>sites/subscribeme.xhtml</display-name>
		<from-view-id>/sites/subscribeme.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>completed</from-outcome>
			<to-view-id>/sections/subscriptioncomplete.xhtml</to-view-id>
		</navigation-case>
	</navigation-rule>
	<validator>
		<description>Valida el formato de email</description>
		<validator-id>com.greco.validators.EmailValidator</validator-id>
		<validator-class>com.greco.validators.EmailValidator</validator-class>
	</validator>
	<validator>
		<description>Valida el formato 24H en una hora.</description>
		<validator-id>com.greco.validators.TimeValidator</validator-id>
		<validator-class>com.greco.validators.TimeValidator</validator-class>
	</validator>
	<validator>
		<description>En formularios con campos maxtime y mintime, comprueba que el mínimo es superior o igual al máximo&amp;#xD;&amp;#xA;y que la diferencia es múltiplo del mínimo.</description>
		<validator-id>com.greco.validators.MaxtimeValidator</validator-id>
		<validator-class>com.greco.validators.MaxtimeValidator</validator-class>
	</validator>
	<validator>
		<description>La disponibilidad debe cumplir dos criterios: &amp;#xD;&amp;#xA;- AvailableFrom debe ser anterior a AvailableTo&amp;#xD;&amp;#xA;- AvailableTo - AvailableFrom debe ser mayor que el tiempo mínimo de reserva</description>
		<validator-id>com.greco.validators.AvailabilityValidator</validator-id>
		<validator-class>com.greco.validators.AvailabilityValidator</validator-class>
	</validator>

</faces-config>
