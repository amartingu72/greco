<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	

   <head><title>IGNORED</title></head>
   <body>
      <ui:composition template="../templates/master_layout.xhtml"> 
         <ui:define name="content"> 
            <h:form id="newcommunityform">
            	<p:growl showSummary="true" showDetail="true"/>               	
            	
            	<h:panelGrid columns="2">	
            		<p:outputLabel for="name" value="#{msgs['editcommunity.name']}"/>
					<p:inputText id="name" value="#{newCommunityBBean.name}" required="true">
						<f:validator binding="#{duplicatedCommunityValidator}" />
					</p:inputText>
					<p:outputLabel for="zipcode" value="#{msgs['editcommunity.zipcode']}"/>
					<p:inputMask id="zipcode" value="#{newCommunityBBean.zipcode}" mask="99999" required="true"/>
            		<p:outputLabel for="country" value="#{msgs['editcommunity.country']}"/>
					<h:selectOneMenu id="country" value="#{newCommunityBBean.country}" required="true">
						<f:selectItems value="#{countriesSBean.countries}"/>
					</h:selectOneMenu>
					<p:outputLabel for="available" value="#{msgs['editcommunity.available']}"/>		
					<h:selectBooleanCheckbox id="available" value="#{newCommunityBBean.available}"/>
            		
            	</h:panelGrid>
            	<p:outputLabel value="#{msgs['editcommunity.notes']}"/>:
				<br/>
				<p:inputTextarea id="notes" value="#{newCommunityBBean.mydata}" 					
					rows="5" 
					cols="58" 
					maxlength="256"
					counter="display"
					counterTemplate="#{msgs['editcommunity.remaining_chars']}"/>
				<br/>
				<p:outputLabel id="display" />
				<br/>
				<br/>
				<h:commandLink value="#{msgs['editcommunity.add_resource']}" action="#{newCommunityCBean.addResource}" />	
				<h:dataTable value="#{newCommunityBBean.myResources}" var="rsrc"
					styleClass="resources"
					headerClass="resourcesHeader">
					<h:column>
						<f:facet name="header">#{msgs['editcommunity.resources']}</f:facet>
						
						<h:commandLink value="#{rsrc.name}" action="#{newCommunityCBean.editResource(rsrc)}" />
					</h:column>
					<h:column>
						<f:facet name="header">#{msgs['editcommunity.resource_type']}</f:facet>
						#{rsrc.type}
					</h:column>
					<h:column>
						<f:facet name="header">#{msgs['editcommunity.status']}</f:facet>
						#{rsrc.status}	
					</h:column>
				</h:dataTable>
            	
            
				<h:commandLink value="#{msgs['editcommunity.save']}" action="#{newCommunityCBean.add}"/>
				-
				<h:commandLink value="#{msgs['editcommunity.cancel']}" immediate="true" action="#{newCommunityCBean.cancel}"/>
			
            </h:form>	
            
         </ui:define>
      </ui:composition>
    
   </body>
</html>