<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
   <h:head>
   		<title>#{msgs['editresource.title']}</title>
        <style type="text/css">
            .ui-widget {
                font-size: 90%;
            }
        </style>
  
   </h:head>
   <h:body>
   	  <div id="dialog">
            <h:form id="editresourcesForm">
            	<p:growl id="growl" showSummary="true" showDetail="true"/>
            	<h:inputHidden id="id" value="#{editResourceBBean.id}"/>
            	<h:panelGrid columns="4">
            		<p:outputLabel for="resource" value="#{msgs['editresource.name']}"/>
					<p:inputText id="resource" value="#{editResourceBBean.name}"  maxlength="32" required="true">
						<f:validator binding="#{duplicatedResourceValidator}" />
					</p:inputText>
				
					<p:outputLabel for="type" value="#{msgs['editresource.type']}"/>
					<h:selectOneMenu id="type" value="#{editResourceBBean.type}" required="true">
						<f:selectItems value="#{resourceTypesSBean.resourceTypes}"/>
					</h:selectOneMenu>	
            	
            		<p:outputLabel for="availableFromTime" value="#{msgs['editresource.available_from']}"/>
					<p:inputMask id="availableFromTime" value="#{editResourceBBean.availableFromTime}" mask="99:99"/>
            		<p:outputLabel for="availableToTime" value="#{msgs['editresource.available_to']}"/>
					<p:inputMask id="availableToTime" value="#{editResourceBBean.availableToTime}" mask="99:99">
						<f:validator validatorId="com.greco.validators.AvailabilityValidator" />
					</p:inputMask>
            	</h:panelGrid>
            	<p:outputLabel value="#{msgs['editresource.time_constraints']}"/>
            	<h:panelGrid columns="6">
            		<p:outputLabel for="mintime" value="#{msgs['editresource.min_time']}"/>
					<p:inputText id="mintime"  value="#{editResourceBBean.mintime}" size="5" maxlength="3" readonly="false">
						<f:convertNumber integerOnly="true"/>
					</p:inputText> 	
					<p:outputLabel for="maxtime" value="#{msgs['editresource.max_time']}"/>
					<h:inputText id="maxtime" value="#{editResourceBBean.maxtime}" size="5" maxlength="3" readonly="false">
						<f:convertNumber integerOnly="true"/>
						<f:validator validatorId="com.greco.validators.MaxtimeValidator"/>
					</h:inputText>
					<p:outputLabel value="#{msgs['editresource.time_unit']}"/>
					<h:selectOneMenu id="timeunit" value="#{editResourceBBean.timeunit}"  >
						<f:selectItems value="#{timeUnitsSBean.timeUnits}"/>
					</h:selectOneMenu>
            	</h:panelGrid>
            	<h:panelGrid columns="3">   
            		<p:outputLabel for="beforehand" value="#{msgs['editresource.beforehand']}"/>
            		<h:inputText id="beforehand" value="#{editResourceBBean.beforehand}" size="5" maxlength="3" readonly="false">
						<f:convertNumber integerOnly="true"/> 
					</h:inputText>
            		<h:selectOneMenu value="#{editResourceBBean.beforehandTU}"  >
						<f:selectItems value="#{timeUnitsSBean.timeUnits}"/>
					</h:selectOneMenu>
            	</h:panelGrid>     	
            	<p:outputLabel for="notes" value="#{msgs.resource_description}"/><br/>
				<h:inputTextarea id="notes" value="#{editResourceBBean.description}" rows="5" cols="58" maxlength="256"/> 
				<br/>
				<p:separator/>
				<h:panelGrid columns="2">
					<p:commandButton update="growl" icon="ui-icon-disk" value="#{msgs['editresource.save']}" actionListener="#{editResourceCBean.savePF}"/>
					<p:commandButton icon="ui-icon-close" value="#{msgs['editresource.cancel']}" immediate="true" action="#{editResourceCBean.cancelPF}"/>
				</h:panelGrid>
            </h:form>	
         </div>
   </h:body>
</html>